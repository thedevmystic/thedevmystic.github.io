/**
 * Copyright 2025 Suryansh Singh
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * ------------------------------------------------------------------------------------------------------
 *
 * @path [ROOT]/src/styles/fluid-typography.css
 * @file fluid-typography.css
 * @description CSS file for fluid typography integration with TailwindCSS.
 *
 * @author thedevmystic (Surya)
 * @copyright 2025 Suryansh Singh Apache-2.0 License
 *
 * SPDX-FileCopyrightText: 2025 Suryansh Singh
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * @description Typescales.
 */
:root {
  /* Step -2: 12px -> 14px */
  --step--2: clamp(0.75rem, 0.18rem + 0.1786vw, 0.875rem);
  /* Step -1: 13.3333px -> 15.0038px */
  --step--1: clamp(0.8333rem, 0.8035rem + 0.1491vw, 0.9377rem);
  /* Step 0: 16px -> 20px */
  --step-0: clamp(1rem, 0.9286rem + 0.3571vw, 1.25rem);
  /* Step 1: 19.2px -> 26.66px */
  --step-1: clamp(1.2rem, 1.0668rem + 0.6661vw, 1.6663rem);
  /* Step 2: 23.04px -> 35.5378px */
  --step-2: clamp(1.44rem, 1.2168rem + 1.1159vw, 2.2211rem);
  /* Step 3: 27.648px -> 47.3719px */
  --step-3: clamp(1.728rem, 1.3758rem + 1.7611vw, 2.9607rem);
  /* Step 4: 33.1776px -> 63.1467px */
  --step-4: clamp(2.0736rem, 1.5384rem + 2.6758vw, 3.9467rem);
  /* Step 5: 39.8131px -> 84.1745px */
  --step-5: clamp(2.4883rem, 1.6962rem + 3.9608vw, 5.2609rem);
}

/**
 * @description Space scales.
 */
:root {
  /* Space 3xs: 4px → 5px */
  --space-3xs: clamp(0.25rem, 0.2321rem + 0.0893vw, 0.3125rem);
  /* Space 2xs: 8px → 10px */
  --space-2xs: clamp(0.5rem, 0.4643rem + 0.1786vw, 0.625rem);
  /* Space xs: 12px → 15px */
  --space-xs: clamp(0.75rem, 0.6964rem + 0.2679vw, 0.9375rem);
  /* Space sm: 16px → 20px */
  --space-sm: clamp(1rem, 0.9286rem + 0.3571vw, 1.25rem);
  /* Space md: 24px → 30px */
  --space-md: clamp(1.5rem, 1.3929rem + 0.5357vw, 1.875rem);
  /* Space lg: 32px → 40px */
  --space-lg: clamp(2rem, 1.8571rem + 0.7143vw, 2.5rem);
  /* Space xl: 48px → 60px */
  --space-xl: clamp(3rem, 2.7857rem + 1.0714vw, 3.75rem);
  /* Space 2xl: 64px → 80px */
  --space-2xl: clamp(4rem, 3.7143rem + 1.4286vw, 5rem);
  /* Space 3xl: 96px → 120px */
  --space-3xl: clamp(6rem, 5.5714rem + 2.1429vw, 7.5rem);

  /* One-up pairs */
  /* Space 3xs-2xs: 4px → 10px */
  --space-3xs-2xs: clamp(0.25rem, 0.1429rem + 0.5357vw, 0.625rem);
  /* Space 2xs-xs: 8px → 15px */
  --space-2xs-xs: clamp(0.5rem, 0.375rem + 0.625vw, 0.9375rem);
  /* Space xs-sm: 12px → 20px */
  --space-xs-sm: clamp(0.75rem, 0.6071rem + 0.7143vw, 1.25rem);
  /* Space sm-md: 16px → 30px */
  --space-sm-md: clamp(1rem, 0.75rem + 1.25vw, 1.875rem);
  /* Space md-lg: 24px → 40px */
  --space-md-lg: clamp(1.5rem, 1.2143rem + 1.4286vw, 2.5rem);
  /* Space lg-xl: 32px → 60px */
  --space-lg-xl: clamp(2rem, 1.5rem + 2.5vw, 3.75rem);
  /* Space xl-2xl: 48px → 80px */
  --space-xl-2xl: clamp(3rem, 2.4286rem + 2.8571vw, 5rem);
  /* Space 2xl-3xl: 64px → 120px */
  --space-2xl-3xl: clamp(4rem, 3rem + 5vw, 7.5rem);

  /* Custom pairs */
  /* Space sm-lg: 16px → 40px */
  --space-sm-lg: clamp(1rem, 0.5714rem + 2.1429vw, 2.5rem);
}

/**
 * @description Grid.
 */
:root {
  /* Max grid width: 1440px / 16 = 90rem */
  --grid-max-width: 90rem;
  /* Gutter width: 16px -> 40px */
  --grid-width: var(--space-sm-lg, clamp(1rem, 0.5714rem + 2.1429vw, 2.5rem));
  /* Number of columns: 12 */
  --grid-columns: 12;
}

/**
 * @description Line height.
 */
:root {
  /* For display/giant Text */
  --lh-none: 1.1;
  /* For subheaders */
  --lh-snug: 1.3;
  /* For headings */
  --lh-tight: 1.15;
  /* For body/small text */
  --lh-normal: 1.55;
  /* For spaciously relaxed text */
  --lh-relaxed: 1.75;
  /* For spaciously loose text */
  --lh-loose: 2.0;

  /* For code/monospace text */
  --lh-code: 1.4;
}

/**
 * @description Fluid typography.
 */
@theme inline {
  /* Typescales */
  --text-xs:   var(--step--2);
  --text-sm:   var(--step--1);
  --text-base: var(--step-0);
  --text-lg:   var(--step-1);
  --text-xl:   var(--step-2);
  --text-2xl:  var(--step-3);
  --text-3xl:  var(--step-4);
  --text-4xl:  var(--step-5);

  /* Typescale line-heights */
  --text-xs--line-height:   var(--lh-normal);
  --text-sm--line-height:   var(--lh-normal);
  --text-base--line-height: var(--lh-normal);
  --text-lg--line-height:   var(--lh-snug);
  --text-xl--line-height:   var(--lh-snug);
  --text-2xl--line-height:  var(--lh-tight);
  --text-3xl--line-height:  var(--lh-tight);
  --text-4xl--line-height:  var(--lh-none);

  /* Monospace special */
  --text-code: var(--step--1);
  --text-code--line-height: var(--lh-code);
  --leading-code: var(--lh-code);

  /* Space scales */
  --spacing-3xs: var(--space-3xs);
  --spacing-2xs: var(--space-2xs);
  --spacing-xs:  var(--space-xs);
  --spacing-sm:  var(--space-sm);
  --spacing-md:  var(--space-md);
  --spacing-lg:  var(--space-lg);
  --spacing-xl:  var(--space-xl);
  --spacing-2xl: var(--space-2xl);
  --spacing-3xl: var(--space-3xl);

  /* Spacing pairs */
  --spacing-3xs-2xs: var(--space-3xs-2xs);
  --spacing-2xs-xs:  var(--space-2xs-xs);
  --spacing-xs-sm:   var(--space-xs-sm);
  --spacing-sm-md:   var(--space-sm-md);
  --spacing-md-lg:   var(--space-md-lg);
  --spacing-lg-xl:   var(--space-lg-xl);
  --spacing-xl-2xl:  var(--space-xl-2xl);
  --spacing-2xl-3xl: var(--space-2xl-3xl);
  --spacing-sm-lg:   var(--space-sm-lg);

  /* Line heights */
  --leading-display: var(--lh-none);
  --leading-heading: var(--lh-tight);
  --leading-subhead: var(--lh-snug);
  --leading-body:    var(--lh-normal);
  --leading-code:    var(--lh-code);

  --leading-none:    var(--lh-none);
  --leading-tight:   var(--lh-tight);
  --leading-snug:    var(--lh-snug);
  --leading-normal:  var(--lh-normal);
  --leading-relaxed: var(--lh-relaxed);
  --leading-loose:   var(--lh-loose);

  /* Grid */
  --width-grid-max: var(--grid-max-width);
  --spacing-grid:   var(--grid-width);
  --grid-template-columns-main: repeat(var(--grid-columns), minmax(0, 1fr));
}

/**
 * @description Fluid container utility.
 */
@utility container-fluid {
  max-width: var(--width-grid-max);
  margin-inline: auto;
  padding-inline: var(--spacing-grid);
}

/**
 * @description Main grid utility.
 */
@utility grid-main {
  display: grid;
  gap: var(--spacing-grid);
  grid-template-columns: var(--grid-template-columns-main);
}

/**
 * @description Flow controlled spacing.
 */
@utility flow {
  /* Flow spacing */
  --flow-space: var(--spacing-md);
  display: flex;
  flex-direction: column;
  justify-content: flex-start;

  & > * + * {
    margin-top: var(--flow-space);
  }
}

